# 📦 插针交易机器人 - 项目总览

## ✅ 项目迁移完成！

所有文件已从 `xingda/xbx_coin_part_2/select-coin-2/` 成功迁移到：
```
/Users/wang/PythonProjects/coin-cta/spike_trade_bot/
```

---

## 📁 当前项目结构

```
coin-cta/
├── spike_signal_bot/              # 插针信号监控机器人（已有）
│   └── spike_signal_bot.py        # 实时监控插针信号
│
├── spike_trade_bot/               # 插针交易策略系统（新建）✨
│   ├── 📋 README.md               # 项目说明（从这里开始）
│   ├── 🚀 START_HERE.md           # 新手快速开始
│   ├── 📘 SPIKE_STRATEGY_GUIDE.md # 使用指南
│   ├── 📖 spike_strategy_README.md # 详细文档
│   ├── 📊 插针策略设计总结.md      # 设计文档
│   │
│   ├── ⚙️  spike_strategy_config.py     # 配置文件
│   ├── 🚀 spike_strategy_backtest.py    # 回测引擎
│   ├── 🧪 spike_strategy_quick_test.py  # 快速测试
│   ├── 🔧 spike_strategy_optimizer.py   # 参数优化
│   ├── 📊 spike_strategy_visualize.py   # 可视化
│   │
│   ├── 🎮 run_spike_strategy.sh         # 一键启动脚本
│   │
│   └── backtest_results/                # 回测结果（自动生成）
│       ├── *.csv                        # 交易明细
│       └── plots_*/                     # 图表
│
├── spike_backtest.py              # 基础回测脚本（已有）
├── macd_signal_bot/               # MACD信号机器人（已有）
├── README.md                      # 项目总览（已有）
└── requirements.txt               # 依赖列表（已有）
```

---

## 🎯 三个项目的关系

### 1️⃣ spike_signal_bot（信号监控）
```
功能：实时监控市场，发现插针信号
输出：Telegram/企业微信通知
用途：提醒交易机会
```

### 2️⃣ spike_backtest.py（简单回测）
```
功能：基础插针检测回测
输出：基本统计数据
用途：快速验证信号逻辑
```

### 3️⃣ spike_trade_bot（完整交易系统）✨ 新建
```
功能：完整的交易策略系统
输出：详细回测报告、图表、优化建议
用途：实盘交易前的策略验证和优化
```

**关系**：
```
spike_signal_bot（发现信号） 
    ↓
spike_trade_bot（策略回测）
    ↓
实盘交易（手动或API自动）
```

---

## 🚀 快速开始（3步）

### 第1步：进入项目目录

```bash
cd /Users/wang/PythonProjects/coin-cta/spike_trade_bot/
```

### 第2步：检查配置

确保数据路径正确（已自动配置为你的路径）：
```bash
python -c "import spike_strategy_config"
```

应该看到：
```
✅ 配置加载成功
📂 数据路径: /Users/wang/PythonProjects/xingda/data/...
💰 初始资金: 100,000 U
```

### 第3步：运行快速测试

**方式1：一键启动菜单**
```bash
./run_spike_strategy.sh
# 选择 1 - 快速测试
```

**方式2：直接运行**
```bash
python spike_strategy_quick_test.py
# 选择 1
```

---

## 📖 文档阅读顺序

### 🟢 新手（刚开始）
```
1. README.md           （5分钟）  ← 你在这里
2. START_HERE.md       （10分钟） ← 下一步读这个
3. 运行快速测试        （3分钟）
4. SPIKE_STRATEGY_GUIDE.md（20分钟）← 遇到问题时读
```

### 🟡 进阶（想优化）
```
1. spike_strategy_README.md   （1小时）
2. 运行参数优化                （30分钟）
3. 完整回测                    （30分钟）
```

### 🔴 高级（准备实盘）
```
1. 插针策略设计总结.md         （2小时）
2. 深入研究代码                （4小时）
3. 自定义策略优化              （根据需要）
```

---

## 🎮 常用命令速查

```bash
# 切换到项目目录
cd /Users/wang/PythonProjects/coin-cta/spike_trade_bot/

# 一键启动菜单（推荐）
./run_spike_strategy.sh

# 快速测试（5个币种）
python spike_strategy_quick_test.py

# 参数优化（10-20分钟）
python spike_strategy_optimizer.py

# 完整回测（所有币种）
python spike_strategy_backtest.py

# 生成图表
python spike_strategy_visualize.py backtest_results/插针反弹策略*.csv

# 查看文档
cat README.md
cat START_HERE.md
```

---

## ⚙️ 配置说明

### 数据路径（已配置）

```python
# 在 spike_strategy_config.py 中：
data_path = Path(r'/Users/wang/PythonProjects/xingda/data/coin-binance-swap-candle-csv-1h-2025-11-12/')
```

✅ 这个路径已经自动配置，指向你的CSV数据目录。

### 如果数据在其他位置

编辑 `spike_strategy_config.py`，修改第18行的 `data_path` 变量。

---

## 🔧 核心参数（可调）

在 `spike_strategy_config.py` 中：

```python
# 插针检测
ATR_MULTIPLIER = 2.0        # 振幅过滤（越高越严格）
VOLUME_MULTIPLIER = 2.0     # 成交量过滤（越高越严格）

# 资金管理
INITIAL_CAPITAL = 100000    # 初始资金
RISK_PER_TRADE = 0.02       # 单笔风险 2%

# 止损止盈
RISK_REWARD_RATIO = 2.0     # 盈亏比 2:1
TIME_STOP_BARS = 24         # 时间止损 24小时

# 交易方向
TRADE_DIRECTION = "both"    # "both" / "long_only" / "short_only"
```

---

## 📊 预期表现

### 优秀策略应该达到

```
✅ 年化ROI > 30%
✅ 最大回撤 < 15%
✅ 夏普比率 > 1.5
✅ 盈亏比 > 2.0
✅ 胜率 > 35%
```

### 策略特点

- **高盈亏比，中低胜率**：典型的"小赔大赚"策略
- **适合震荡市**：横盘整理时表现最好
- **不适合单边市**：强趋势时逆势交易容易止损

---

## 🐛 常见问题

### Q1: 没有交易信号？
→ 降低过滤条件：`ATR_MULTIPLIER = 1.5`, `VOLUME_MULTIPLIER = 1.5`

### Q2: 程序报错？
→ 检查依赖：`pip install pandas numpy matplotlib`

### Q3: 数据路径错误？
→ 编辑 `spike_strategy_config.py`，修改 `data_path`

### Q4: 想了解更多？
→ 阅读 `START_HERE.md`

---

## ✅ 迁移检查清单

- [x] 所有Python程序文件已迁移
- [x] 所有文档文件已迁移
- [x] 启动脚本已迁移并添加执行权限
- [x] 配置文件已更新数据路径
- [x] 输出目录已创建
- [x] 配置文件测试通过 ✅
- [x] 项目结构清晰
- [x] 文档完整

---

## 🎯 下一步

### 立即开始

```bash
cd /Users/wang/PythonProjects/coin-cta/spike_trade_bot/
./run_spike_strategy.sh
```

### 阅读文档

```bash
cat START_HERE.md
```

### 运行测试

```bash
python spike_strategy_quick_test.py
```

---

## 💡 重要提示

1. ✅ **项目独立**：这个目录下的所有文件都是独立的，不会与原项目混淆
2. ✅ **数据共享**：使用相同的CSV数据，无需重复下载
3. ✅ **文档完整**：4个文档涵盖从新手到高级的所有需求
4. ✅ **工具齐全**：测试、优化、回测、可视化一应俱全

---

## 🎉 开始你的量化交易之旅！

**祝交易顺利，稳定盈利！** 🚀💰

---

**项目迁移完成时间**：2025-11-21  
**当前版本**：V1.0  
**项目位置**：`/Users/wang/PythonProjects/coin-cta/spike_trade_bot/`


